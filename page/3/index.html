<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Geony&#039;s Tech Blog</title><meta description="Data Analyst&amp;#39;s blog"><meta property="og:type" content="blog"><meta property="og:title" content="Geony&#039;s Tech Blog"><meta property="og:url" content="http://wglee87.github.io/"><meta property="og:site_name" content="Geony&#039;s Tech Blog"><meta property="og:description" content="Data Analyst&amp;#39;s blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://wglee87.github.io/img/og_image.png"><meta property="article:author" content="wglee87"><meta property="article:tag" content="data_analysis"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://wglee87.github.io"},"headline":"Geony's Tech Blog","image":["http://wglee87.github.io/img/og_image.png"],"author":{"@type":"Person","name":"WGLee87"},"description":"Data Analyst&#39;s blog"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/" alt="Geony&#039;s Tech Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="/null">Download on GitHub</a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-12T09:28:55.000Z" title="2020-05-12T09:28:55.000Z">2020-05-12</time><span class="level-item">10 minutes read (About 1558 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/12/%E1%84%89%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A7%E1%86%BC%E1%84%92%E1%85%AC%E1%84%80%E1%85%B1%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5/">선형회귀분석 정리</a></h1><div class="content"><p>선형회귀분석 정리<br>오늘의 데이터 사이언스 스쿨에서는 본격적으로 제대로 된 선형회귀분석에 대해 배울 수 있었어. 또 배운 내용을 바탕으로 파이썬을 이용하여 패키지를 이용해 직접 구현해볼 수도 있었는데, 요약된 정보들이 가지는 함축적인 의미가 있어. 길고, 어려운 내용들이었지만 간신히 맥락은 잡고 있는 것 같아 잊기 전에 빠른 정리를 통해 복습을 하려고 해. listen.</p>
<p>우선 선형회귀분석이란, 종속 변수 y와 한 개 이상의 독립 변수 x와의 선형 관계를 모델링하는 방법이야. 사실 이런 단어들을 이용해 설명하면 쉬운 것도 어렵게 느껴지기 마련인데, 내가 수업시간에 깨달은 선형회귀분석 내용은 아래와 같아.</p>
<img width="1214" alt="스크린샷 2020-05-12 오후 6 31 31" src="https://user-images.githubusercontent.com/59719711/81667918-e4954780-947e-11ea-9b8c-4591666ce580.png">

<p>seaborn 데이터셋에 있는 tip 데이터를 가져와봤어. 총 지출 비용, 팁의 금액, 팁을 준 사람의 성별과 흡연 여부, 요일 시간, 함께 온 인원들의 정보 나열되어 있네. 막무가내로 서로 연관성 없이 나열되어 있는 것 같은 이 데이터들 속에서 그 어떤 상관성이 있을까?<br>가령, 식사 인원이 많으면 많을 수록 팁의 비용이 커지거나, 저녁 타임에 오는 손님이 팁을 더 많이 준다 등 데이터를 통해 이러한 인사이트를 얻어 내야 하는 것인데, 이러한 선형회귀분석은 이러한 데이터의 성별, 흡연여부, 식사 시간대 등과 같은 데이터(독립변수, x)들이 팁(종속변수, y)에 영향을 주는지, 혹은 영향을 주지 않는지, 영향을 주면 어떤 항목이 가장 영향을 많이 주는지 알 수 있는 방법 중에 하나라고 할 수 있지.</p>
<p>그렇다면 팁 데이터를 벡터값 y로 놓고 나머지 벡터들, 즉 나머지 행렬 데이터를 x로 놓고 일반적으로 알고 있는 ‘y = wx’를  만들 수 있겠지? 여기서 기울기에 해당하는 ‘w’가 바로 우리가 알고 싶어 하는 가중치라는 것이야.<br>x의 항목들(성별, 흡연여부, 식사시간대 등) 중 어떤 항목이 팁이 많고 적음에 상관이 있는지, 즉 팁에 긍정적인 영향을 미쳐서 팁의 금액이 올라가게 하는지, 혹은 부정적인 영향을 미쳐서 팁의 금액을 내려가게 하는지, 혹은 전혀 상관이 없는지 말야.</p>
<p>이 때 wx를 x에 대한 함수로 나타난다면 y와 x 의 관계는 이렇게 정리할 수 있어.</p>
<p><img src="https://user-images.githubusercontent.com/59719711/81668790-1fe44600-9480-11ea-9fc9-3e84c3effece.png" alt="image"><br>(어렵다 참)</p>
<p>아무튼!</p>
<p>여기서 y 위의 ^와 물결표가 붙으면서 좀 더 깊게 들어가게 되는데, ^가 붙은 y를 y hat이라고 해. y는 우리가 마주하고 있는 현실 세계에서 일어난 실제 데이터이고, y hat은 예측한 가중치, w의 영향을 받은 ‘예측값’이라고 할 수 있어. 때문에 우리가 원하는 것은 어떤 값을 가질 지 모르는 가중치 w의 값을 조정하여 우리가 예측한 예측치 y hat과 실제 발생한 데이터 값 y의 차이(잔차)를 줄이는 것이라고 할 수 있지.</p>
<p><img src="https://user-images.githubusercontent.com/59719711/81669155-c2042e00-9480-11ea-9862-63dcd2791f4c.png" alt="image (1)"></p>
<p>언급했던 y, y hat, w 모두는 스칼라 값이 아니라 벡터 혹은 행렬의 형태를 갖추고 있어. 위의 사진에서 가중치 값 w는 이 선형회귀 모형의 모수 즉 parameter 야. 그리고 x1, x2 … 는 tip 데이터에서는 종속 변수 tip데이터를 제외한 나머지, 즉 성별, 흡연여부, 식사 시간대 등이 되는거야.</p>
<p>우선 선형회귀분석에 결정론적 방법과 확률론적 방법이라는 2가지 방법이 있어. 결정론적 방법은 단순하게 독립변수 x에 대응하는 종속변수 y 값을 계산하는 함수를 만들어 내는 것인 반면 확률론적 방법은 이름 그대로 x, y 뒤에 어떤 ‘확률 모형’이 숨어져 있다는 가정이 ‘추가’되는데, 이 가정이 추가됨으로써 결정론적 방법보다 더 많은 정보를 가지고 시작하게 된다고 할 수 있지.(비록 가정이라 할지라도) 더 많은 정보를 가지고 시작함으로써 결정론적 방법보다 조금 더 깊은 인사이트를 도출할 수 있어.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> font_manager, rc</span><br><span class="line"><span class="keyword">import</span> platform</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> :</span><br><span class="line">    <span class="keyword">if</span> platform.system() == <span class="string">'windows'</span>:</span><br><span class="line">        <span class="comment"># windows의 경우</span></span><br><span class="line">        font_name = font_manager.FomntProperties(fname=<span class="string">"c:/Windows/Font"</span>)</span><br><span class="line">        rc(<span class="string">'font'</span>, family = font_name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># mac의 경우</span></span><br><span class="line">        rc(<span class="string">'font'</span>, family = <span class="string">'AppleGothic'</span>)</span><br><span class="line"><span class="keyword">except</span> :</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">matplotlib.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"></span><br><span class="line">boston = load_boston()</span><br><span class="line"></span><br><span class="line">dfx = pd.DataFrame(boston.data, columns=boston.feature_names)</span><br><span class="line">dfy = pd.DataFrame(boston.target, columns=[<span class="string">"MEDV"</span>])</span><br><span class="line">df = pd.concat([dfx,dfy],axis=<span class="number">1</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CRIM</th>
      <th>ZN</th>
      <th>INDUS</th>
      <th>CHAS</th>
      <th>NOX</th>
      <th>RM</th>
      <th>AGE</th>
      <th>DIS</th>
      <th>RAD</th>
      <th>TAX</th>
      <th>PTRATIO</th>
      <th>B</th>
      <th>LSTAT</th>
      <th>MEDV</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00632</td>
      <td>18.0</td>
      <td>2.31</td>
      <td>0.0</td>
      <td>0.538</td>
      <td>6.575</td>
      <td>65.2</td>
      <td>4.0900</td>
      <td>1.0</td>
      <td>296.0</td>
      <td>15.3</td>
      <td>396.90</td>
      <td>4.98</td>
      <td>24.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.02731</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0.0</td>
      <td>0.469</td>
      <td>6.421</td>
      <td>78.9</td>
      <td>4.9671</td>
      <td>2.0</td>
      <td>242.0</td>
      <td>17.8</td>
      <td>396.90</td>
      <td>9.14</td>
      <td>21.6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.02729</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0.0</td>
      <td>0.469</td>
      <td>7.185</td>
      <td>61.1</td>
      <td>4.9671</td>
      <td>2.0</td>
      <td>242.0</td>
      <td>17.8</td>
      <td>392.83</td>
      <td>4.03</td>
      <td>34.7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.03237</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0.0</td>
      <td>0.458</td>
      <td>6.998</td>
      <td>45.8</td>
      <td>6.0622</td>
      <td>3.0</td>
      <td>222.0</td>
      <td>18.7</td>
      <td>394.63</td>
      <td>2.94</td>
      <td>33.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.06905</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0.0</td>
      <td>0.458</td>
      <td>7.147</td>
      <td>54.2</td>
      <td>6.0622</td>
      <td>3.0</td>
      <td>222.0</td>
      <td>18.7</td>
      <td>396.90</td>
      <td>5.33</td>
      <td>36.2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>501</th>
      <td>0.06263</td>
      <td>0.0</td>
      <td>11.93</td>
      <td>0.0</td>
      <td>0.573</td>
      <td>6.593</td>
      <td>69.1</td>
      <td>2.4786</td>
      <td>1.0</td>
      <td>273.0</td>
      <td>21.0</td>
      <td>391.99</td>
      <td>9.67</td>
      <td>22.4</td>
    </tr>
    <tr>
      <th>502</th>
      <td>0.04527</td>
      <td>0.0</td>
      <td>11.93</td>
      <td>0.0</td>
      <td>0.573</td>
      <td>6.120</td>
      <td>76.7</td>
      <td>2.2875</td>
      <td>1.0</td>
      <td>273.0</td>
      <td>21.0</td>
      <td>396.90</td>
      <td>9.08</td>
      <td>20.6</td>
    </tr>
    <tr>
      <th>503</th>
      <td>0.06076</td>
      <td>0.0</td>
      <td>11.93</td>
      <td>0.0</td>
      <td>0.573</td>
      <td>6.976</td>
      <td>91.0</td>
      <td>2.1675</td>
      <td>1.0</td>
      <td>273.0</td>
      <td>21.0</td>
      <td>396.90</td>
      <td>5.64</td>
      <td>23.9</td>
    </tr>
    <tr>
      <th>504</th>
      <td>0.10959</td>
      <td>0.0</td>
      <td>11.93</td>
      <td>0.0</td>
      <td>0.573</td>
      <td>6.794</td>
      <td>89.3</td>
      <td>2.3889</td>
      <td>1.0</td>
      <td>273.0</td>
      <td>21.0</td>
      <td>393.45</td>
      <td>6.48</td>
      <td>22.0</td>
    </tr>
    <tr>
      <th>505</th>
      <td>0.04741</td>
      <td>0.0</td>
      <td>11.93</td>
      <td>0.0</td>
      <td>0.573</td>
      <td>6.030</td>
      <td>80.8</td>
      <td>2.5050</td>
      <td>1.0</td>
      <td>273.0</td>
      <td>21.0</td>
      <td>396.90</td>
      <td>7.88</td>
      <td>11.9</td>
    </tr>
  </tbody>
</table>
<p>506 rows × 14 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(df[[<span class="string">'MEDV'</span>,<span class="string">'RM'</span>]])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x1a2a600f90&gt;</code></pre><img width="361" alt="output_3_1" src="https://user-images.githubusercontent.com/59719711/81673250-4dcc8900-9486-11ea-98f7-683760804f5c.png">




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(df[[<span class="string">'MEDV'</span>,<span class="string">'CRIM'</span>]])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x1a2a60d0d0&gt;</code></pre><img width="361" alt="output_4_1" src="https://user-images.githubusercontent.com/59719711/81673306-68066700-9486-11ea-8088-860245701f6e.png">



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(df[[<span class="string">'MEDV'</span>,<span class="string">'AGE'</span>]])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x1a2adfd150&gt;</code></pre><img width="370" alt="output_5_1" src="https://user-images.githubusercontent.com/59719711/81673336-76548300-9486-11ea-9485-ba132d64d474.png">


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(df[[<span class="string">'MEDV'</span>,<span class="string">'CHAS'</span>]])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x1a2b239d50&gt;</code></pre><img width="365" alt="output_6_1" src="https://user-images.githubusercontent.com/59719711/81673361-82404500-9486-11ea-88e0-0472e2c33a37.png">



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line">model = LinearRegression().fit(dfx, dfy)</span><br><span class="line">predicted = model.predict(dfx)</span><br><span class="line">plt.scatter(dfy, predicted, s=<span class="number">10</span>)</span><br><span class="line">plt.xlabel(<span class="string">"실제 가격"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"예측 가격"</span>)</span><br><span class="line">plt.title(<span class="string">"보스턴 주택가격 예측결과"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<img width="389" alt="output_7_0" src="https://user-images.githubusercontent.com/59719711/81673398-8c624380-9486-11ea-9678-bac5f9e74d4c.png">



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model = sm.OLS(dfy, dfx)</span><br><span class="line">result = model.fit()</span><br><span class="line">result.params</span><br></pre></td></tr></table></figure>




<pre><code>CRIM      -0.092897
ZN         0.048715
INDUS     -0.004060
CHAS       2.853999
NOX       -2.868436
RM         5.928148
AGE       -0.007269
DIS       -0.968514
RAD        0.171151
TAX       -0.009396
PTRATIO   -0.392191
B          0.014906
LSTAT     -0.416304
dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(result.summary())</span><br></pre></td></tr></table></figure>

<pre><code>                                 OLS Regression Results                                
=======================================================================================
Dep. Variable:                   MEDV   R-squared (uncentered):                   0.959
Model:                            OLS   Adj. R-squared (uncentered):              0.958
Method:                 Least Squares   F-statistic:                              891.3
Date:                Tue, 12 May 2020   Prob (F-statistic):                        0.00
Time:                        19:14:28   Log-Likelihood:                         -1523.8
No. Observations:                 506   AIC:                                      3074.
Df Residuals:                     493   BIC:                                      3128.
Df Model:                          13                                                  
Covariance Type:            nonrobust                                                  
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
CRIM          -0.0929      0.034     -2.699      0.007      -0.161      -0.025
ZN             0.0487      0.014      3.382      0.001       0.020       0.077
INDUS         -0.0041      0.064     -0.063      0.950      -0.131       0.123
CHAS           2.8540      0.904      3.157      0.002       1.078       4.630
NOX           -2.8684      3.359     -0.854      0.394      -9.468       3.731
RM             5.9281      0.309     19.178      0.000       5.321       6.535
AGE           -0.0073      0.014     -0.526      0.599      -0.034       0.020
DIS           -0.9685      0.196     -4.951      0.000      -1.353      -0.584
RAD            0.1712      0.067      2.564      0.011       0.040       0.302
TAX           -0.0094      0.004     -2.395      0.017      -0.017      -0.002
PTRATIO       -0.3922      0.110     -3.570      0.000      -0.608      -0.176
B              0.0149      0.003      5.528      0.000       0.010       0.020
LSTAT         -0.4163      0.051     -8.197      0.000      -0.516      -0.317
==============================================================================
Omnibus:                      204.082   Durbin-Watson:                   0.999
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             1374.225
Skew:                           1.609   Prob(JB):                    3.90e-299
Kurtosis:                      10.404   Cond. No.                     8.50e+03
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 8.5e+03. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-08T05:19:22.000Z" title="2020-05-08T05:19:22.000Z">2020-05-08</time><span class="level-item">16 minutes read (About 2342 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/08/%EB%8D%B0%EC%9D%B4%ED%84%B0%ED%94%84%EB%A0%88%EC%9E%84-%EB%B3%91%ED%95%A9%ED%95%98%EA%B8%B0-merge-concat/">데이터프레임 병합하기(merge, concat)</a></h1><div class="content"><p>복수의 데이터프레임을 하나로 만드는 과정을 만져보자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'국어'</span>:[<span class="number">87</span>, <span class="number">69</span>], <span class="string">'수학'</span>:[<span class="number">77</span>,<span class="number">96</span>]&#125;, index=[<span class="string">'홍길동'</span>, <span class="string">'임꺽정'</span>])</span><br><span class="line">df1</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>홍길동</th>
      <td>87</td>
      <td>77</td>
    </tr>
    <tr>
      <th>임꺽정</th>
      <td>69</td>
      <td>96</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'국어'</span>:[<span class="number">82</span>,<span class="number">81</span>], <span class="string">'영어'</span>:[<span class="number">86</span>,<span class="number">90</span>]&#125;, index=[<span class="string">'전봉준'</span>,<span class="string">'장길산'</span>])</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>전봉준</th>
      <td>82</td>
      <td>86</td>
    </tr>
    <tr>
      <th>장길산</th>
      <td>81</td>
      <td>90</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df3 = pd.DataFrame(&#123;<span class="string">'국어'</span>:[<span class="number">82</span>,<span class="number">81</span>], <span class="string">'영어'</span>:[<span class="number">86</span>,<span class="number">90</span>]&#125;, index=[<span class="string">'전봉준'</span>,<span class="string">'장길산'</span>])</span><br><span class="line">df3</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>전봉준</th>
      <td>82</td>
      <td>86</td>
    </tr>
    <tr>
      <th>장길산</th>
      <td>81</td>
      <td>90</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="concat함수"><a href="#concat함수" class="headerlink" title="concat함수"></a>concat함수</h3><pre><code>세로로 병합하기(그냥 아래로 붙이는거)

데이터프레임끼리 컬럼이 달라도 된다. (없는 컬럼엔 NaN값으로 알아서 채워짐)
근데, 데이터프레임간에 컬럼이 서로 다르면 sort=False를 넣어줘야 경고가 발생하지 않아

[sort 파라미터는 컬럼 이름을 정렬해주는 옵션]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_concat1 = pd.concat([df1, df2, df3], sort=<span class="literal">False</span>)</span><br><span class="line">df_concat1</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>홍길동</th>
      <td>87</td>
      <td>77.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>임꺽정</th>
      <td>69</td>
      <td>96.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>전봉준</th>
      <td>82</td>
      <td>NaN</td>
      <td>86.0</td>
    </tr>
    <tr>
      <th>장길산</th>
      <td>81</td>
      <td>NaN</td>
      <td>90.0</td>
    </tr>
    <tr>
      <th>전봉준</th>
      <td>82</td>
      <td>NaN</td>
      <td>86.0</td>
    </tr>
    <tr>
      <th>장길산</th>
      <td>81</td>
      <td>NaN</td>
      <td>90.0</td>
    </tr>
  </tbody>
</table>
</div>



<pre><code>가로로 병합하기 (위에 언급했듯이 axis=1 옵션만 주면 되)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_concat2 = pd.concat([df1, df2, df3], sort=<span class="literal">False</span>, axis=<span class="number">1</span>)</span><br><span class="line">df_concat2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
      <th>국어</th>
      <th>영어</th>
      <th>국어</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>홍길동</th>
      <td>87.0</td>
      <td>77.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>임꺽정</th>
      <td>69.0</td>
      <td>96.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>전봉준</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>82.0</td>
      <td>86.0</td>
      <td>82.0</td>
      <td>86.0</td>
    </tr>
    <tr>
      <th>장길산</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>81.0</td>
      <td>90.0</td>
      <td>81.0</td>
      <td>90.0</td>
    </tr>
  </tbody>
</table>
</div>



<p>쉽지?? 넘어가도록 할게</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="merge함수"><a href="#merge함수" class="headerlink" title="merge함수"></a>merge함수</h3><pre><code>공통 컬럼을 기준으로 병합하기 가능</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df1, df2)</span><br><span class="line"></span><br><span class="line">df1이랑 df2는 서로 겹치는 게 없어서 컬럼만 나오네</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df1, df2, how=<span class="string">'outer'</span>)</span><br><span class="line"></span><br><span class="line">서로 겹치지 않는 부분은 그냥 NaN으로 채우면서 서로 병합하는거야</span><br><span class="line">방법은 how = <span class="string">'outer'</span> 파라미터를 쓰면 돼</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>87</td>
      <td>77.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>69</td>
      <td>96.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>82</td>
      <td>NaN</td>
      <td>86.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>81</td>
      <td>NaN</td>
      <td>90.0</td>
    </tr>
  </tbody>
</table>
</div>



<pre><code>how 파라미터는 outer, inner만 있는게 아니야.
left, right도 있어</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df1, df2, how=<span class="string">'left'</span>)</span><br><span class="line"></span><br><span class="line">왼쪽꺼를 기준으로 놓고, 오른쪽의 데이터를 가져와서 합병시키되, </span><br><span class="line">오른쪽에서 가져올 데이터가 없는 자리에는 NaN값으로 채워 넣어줘</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>87</td>
      <td>77</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>69</td>
      <td>96</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df1, df2, how=<span class="string">'right'</span>)</span><br><span class="line"></span><br><span class="line">마찬가지로 이거는 오른쪽을 기준으로</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국어</th>
      <th>수학</th>
      <th>영어</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>82</td>
      <td>NaN</td>
      <td>86</td>
    </tr>
    <tr>
      <th>1</th>
      <td>81</td>
      <td>NaN</td>
      <td>90</td>
    </tr>
  </tbody>
</table>
</div>



<pre><code>merge 함수와 비슷한 기능의 join 이라는 함수도 있어</code></pre><p>근데 join함수는 merge랑 완전 같은 기능이라 따로 정리는 안할거야<br>이러한 기능이 필요할 땐 merge함수를 쓰면 되지</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>중복되는 데이터가 존재하는 경우의 열단위 병합(merge)</p>
<ul>
<li>어떻게든 조합을 만들어내니까 너무 걱정마</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_1 = pd.DataFrame(&#123;<span class="string">'아이디'</span>:[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>], <span class="string">'결제금액'</span>:[<span class="number">1000</span>, <span class="number">1200</span>, <span class="number">1700</span>, <span class="number">3200</span>]&#125;)</span><br><span class="line">df_1</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>아이디</th>
      <th>결제금액</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>a</td>
      <td>1000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b</td>
      <td>1200</td>
    </tr>
    <tr>
      <th>2</th>
      <td>c</td>
      <td>1700</td>
    </tr>
    <tr>
      <th>3</th>
      <td>d</td>
      <td>3200</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_2 = pd.DataFrame(&#123;<span class="string">'아이디'</span>:[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>], <span class="string">'적립금'</span>:[<span class="number">120</span>, <span class="number">1700</span>, <span class="number">200</span>, <span class="number">320</span>]&#125;)</span><br><span class="line">df_2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>아이디</th>
      <th>적립금</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>a</td>
      <td>120</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b</td>
      <td>1700</td>
    </tr>
    <tr>
      <th>2</th>
      <td>c</td>
      <td>200</td>
    </tr>
    <tr>
      <th>3</th>
      <td>d</td>
      <td>320</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df_1, df_2)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>아이디</th>
      <th>결제금액</th>
      <th>적립금</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>a</td>
      <td>1000</td>
      <td>120</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b</td>
      <td>1200</td>
      <td>1700</td>
    </tr>
    <tr>
      <th>2</th>
      <td>c</td>
      <td>1700</td>
      <td>200</td>
    </tr>
    <tr>
      <th>3</th>
      <td>d</td>
      <td>3200</td>
      <td>320</td>
    </tr>
  </tbody>
</table>
</div>



<p>일단 기본 merge를 시켜서 모든 경우의수를 다 봐<br>그리고 나서 수정을 하든말든 오키?</p>
<pre><code>겹치는 컬럼이 2개 이상인 경우에는?</code></pre><p>간단해. 이럴때는 ‘on’ 이라는 파라미터를 사용하면 on값을 기준으로 merge가 되</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df_a = pd.DataFrame(&#123;<span class="string">'고객명'</span>:[<span class="string">'길동'</span>,<span class="string">'길산'</span>],</span><br><span class="line">                    <span class="string">'데이터'</span>:[<span class="string">'2000'</span>,<span class="string">'1700'</span>],</span><br><span class="line">                    <span class="string">'날짜'</span>:[<span class="string">'2020-05-08'</span>, <span class="string">'2020-06-08'</span>]&#125;)</span><br><span class="line">df_a</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터</th>
      <th>날짜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>2000</td>
      <td>2020-05-08</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>1700</td>
      <td>2020-06-08</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df_b = pd.DataFrame(&#123;<span class="string">'고객명'</span>:[<span class="string">'길동'</span>,<span class="string">'길산'</span>],</span><br><span class="line">                    <span class="string">'데이터'</span>:[<span class="string">'21세'</span>,<span class="string">'17세'</span>],</span><br><span class="line">                    &#125;)</span><br><span class="line">df_b</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>21세</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>17세</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df_a, df_b)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터</th>
      <th>날짜</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>



<p>merge가 되지 않아. 왜냐믄 공통되는 컬럼이 2개가 되니깐 둘 다 참조를 하게되서.. 두 컬럼 사이에 교집합이 없으니 merge를 해도 소용이 없는거야</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(df_a, df_b, on=<span class="string">'고객명'</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터_x</th>
      <th>날짜</th>
      <th>데이터_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>2000</td>
      <td>2020-05-08</td>
      <td>21세</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>1700</td>
      <td>2020-06-08</td>
      <td>17세</td>
    </tr>
  </tbody>
</table>
</div>



<p>자 on 파라미터로 기준을 고객명으로 줬더니 출력이 됐어.<br>이거를 보면 알 수 있듯이, 기준열은 아니면서 이름이 같은 열인 경우에는 _x 와 _y가 붙어</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>_x 랑 _y가 좀 그렇지? 그러면 컬럼명을 변경을 하자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xx = pd.merge(df_a, df_b, on=<span class="string">'고객명'</span>)</span><br><span class="line">xx = xx.rename(columns=&#123;<span class="string">'데이터_x'</span>: <span class="string">'금액'</span>, <span class="string">'데이터_y'</span>:<span class="string">'나이'</span>&#125;)</span><br><span class="line">xx</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>금액</th>
      <th>날짜</th>
      <th>나이</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>2000</td>
      <td>2020-05-08</td>
      <td>21세</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>1700</td>
      <td>2020-06-08</td>
      <td>17세</td>
    </tr>
  </tbody>
</table>
</div>



<p>Good Job!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>공통 컬럼은 존재하지 않지만, 우리가 이름이 다른 두 컬럼을 지정해서 merge하라고 명령 할수도 있어</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_a</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터</th>
      <th>날짜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>2000</td>
      <td>2020-05-08</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>1700</td>
      <td>2020-06-08</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_b = df_b.rename(columns=&#123;<span class="string">'고객명'</span>:<span class="string">'이름'</span>&#125;)</span><br><span class="line">df_b</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>이름</th>
      <th>데이터</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>21세</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>17세</td>
    </tr>
  </tbody>
</table>
</div>



<p>자 해보자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">merged = pd.merge(df_a, df_b, left_on=<span class="string">'고객명'</span>, right_on=<span class="string">'이름'</span>)</span><br><span class="line">merged</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터_x</th>
      <th>날짜</th>
      <th>이름</th>
      <th>데이터_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>2000</td>
      <td>2020-05-08</td>
      <td>길동</td>
      <td>21세</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>1700</td>
      <td>2020-06-08</td>
      <td>길산</td>
      <td>17세</td>
    </tr>
  </tbody>
</table>
</div>



<pre><code>왼쪽의 고객명과 오른쪽의 이름이 같은 데이터를 병합하라는 의미네. ㅇㅋ 이렇게 되는구나. 그럼 이제 겹치는 컬럼을 지우자</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">merged.drop(<span class="string">'이름'</span>,axis=<span class="number">1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">merged</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>고객명</th>
      <th>데이터_x</th>
      <th>날짜</th>
      <th>데이터_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>길동</td>
      <td>2000</td>
      <td>2020-05-08</td>
      <td>21세</td>
    </tr>
    <tr>
      <th>1</th>
      <td>길산</td>
      <td>1700</td>
      <td>2020-06-08</td>
      <td>17세</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>??? : merge는 항상 컬럼 기준이야??</p>
<p>오~ 너 참 똑똑이구나?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Index를 기준으로 당연히 merge가 되</p>
<p>left_index, right_index 파라미터를 이용하면되는데,, 일단 해보자고</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">역사 = pd.DataFrame(&#123;<span class="string">'역사'</span>:[<span class="number">90</span>,<span class="number">82</span>]&#125;, index=[<span class="string">'필구'</span>,<span class="string">'봉구'</span>])</span><br><span class="line">역사</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>역사</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>필구</th>
      <td>90</td>
    </tr>
    <tr>
      <th>봉구</th>
      <td>82</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">수학 = pd.DataFrame(&#123;<span class="string">'수학'</span>:[<span class="number">81</span>,<span class="number">92</span>]&#125;, index=[<span class="string">'필구'</span>,<span class="string">'맹구'</span>])</span><br><span class="line">수학</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>수학</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>필구</th>
      <td>81</td>
    </tr>
    <tr>
      <th>맹구</th>
      <td>92</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">역사수학 = pd.merge(역사, 수학, left_index=<span class="literal">True</span>, right_index=<span class="literal">True</span>)</span><br><span class="line">역사수학</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>역사</th>
      <th>수학</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>필구</th>
      <td>90</td>
      <td>81</td>
    </tr>
  </tbody>
</table>
</div>



<p>두 데이터에서 겹치는 index인 필구만 잡아서 추가해주네 ㅇㅋ?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">역사수학 = pd.merge(역사, 수학, left_index=<span class="literal">True</span>, right_index=<span class="literal">True</span>, how=<span class="string">'outer'</span>)</span><br><span class="line">역사수학</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>역사</th>
      <th>수학</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>맹구</th>
      <td>NaN</td>
      <td>92.0</td>
    </tr>
    <tr>
      <th>봉구</th>
      <td>82.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>필구</th>
      <td>90.0</td>
      <td>81.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>그러면 이런 경우에는 어떻게 해야하는 거야?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">역사 = pd.DataFrame(&#123;<span class="string">'역사'</span>:[<span class="number">90</span>,<span class="number">82</span>]&#125;, index=[<span class="string">'필구'</span>,<span class="string">'봉구'</span>])</span><br><span class="line">역사</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>역사</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>필구</th>
      <td>90</td>
    </tr>
    <tr>
      <th>봉구</th>
      <td>82</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">수학 = pd.DataFrame(&#123;<span class="string">'수학'</span>:[<span class="number">81</span>,<span class="number">92</span>],<span class="string">'이름'</span>:[<span class="string">'필구'</span>,<span class="string">'봉구'</span>]&#125;)</span><br><span class="line">수학</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>수학</th>
      <th>이름</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>81</td>
      <td>필구</td>
    </tr>
    <tr>
      <th>1</th>
      <td>92</td>
      <td>봉구</td>
    </tr>
  </tbody>
</table>
</div>



<p>이 두개를 merge하고 싶은데,<br>서로 참조시킬 것이 하나는 index에 있고, 다른 하나는 column으로 갖고 있잖아..</p>
<p>이럴때 바로 left/right_index와 left/right_on을 응용해서 쉐킷쉐킷!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">역사수학_ = pd.merge(역사,수학, left_index=<span class="literal">True</span>, right_on=<span class="string">'이름'</span>)</span><br><span class="line">역사수학_</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>역사</th>
      <th>수학</th>
      <th>이름</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>90</td>
      <td>81</td>
      <td>필구</td>
    </tr>
    <tr>
      <th>1</th>
      <td>82</td>
      <td>92</td>
      <td>봉구</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="정리만-해주고-끝내자-힘들다"><a href="#정리만-해주고-끝내자-힘들다" class="headerlink" title="정리만 해주고 끝내자 힘들다!"></a>정리만 해주고 끝내자 힘들다!</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">역사수학_.index = 역사수학_[<span class="string">'이름'</span>].values</span><br><span class="line">역사수학_.drop(<span class="string">'이름'</span>, axis=<span class="number">1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">역사수학_</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>역사</th>
      <th>수학</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>필구</th>
      <td>90</td>
      <td>81</td>
    </tr>
    <tr>
      <th>봉구</th>
      <td>82</td>
      <td>92</td>
    </tr>
  </tbody>
</table>
</div>


</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-07T00:58:34.000Z" title="2020-05-07T00:58:34.000Z">2020-05-07</time><span class="level-item">a minute read (About 181 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/07/Python-Pandas-%E1%84%8B%E1%85%A6%E1%84%89%E1%85%A5-%E1%84%90%E1%85%B3%E1%86%A8%E1%84%8C%E1%85%A5%E1%86%BC-%E1%84%8F%E1%85%A5%E1%86%AF%E1%84%85%E1%85%A5%E1%86%B7%E1%84%80%E1%85%A1%E1%86%B9%E1%84%8B%E1%85%B4-row%E1%84%85%E1%85%B3%E1%86%AF-%E1%84%8C%E1%85%A6%E1%84%80%E1%85%A5%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5/">Python Pandas 에서 특정 컬럼값의 row를 제거하기</a></h1><div class="content"><img width="791" alt="특정값제거1" src="https://user-images.githubusercontent.com/59719711/81243933-11df9100-904c-11ea-9c84-b72eb2064d8f.png">

<p>파이썬의 Pandas를 사용하면서 특정값의 row 가 존재할 때, 이 row를 제거하려면 그 값이 들어가는 row를 제외한 나머지 값들을 다시 dataframe으로 load하면 손쉽게 데이터를 처리할 수 있다.</p>
<p>위의 그림은 랜덤으로 생성한 데이터에서 몇몇 부분의 데이터가 0이 존재하는 그림이다. 여기에서 0값을 가지는 데이터를 제거하는 데이터 전처리 작업이다.</p>
<p>아래 그림은 그 결과값이다.</p>
<img width="508" alt="특정값제거2" src="https://user-images.githubusercontent.com/59719711/81244154-8b777f00-904c-11ea-8a9d-f38221055a60.png">

<p>null값이 아닌 특정값을 제거하고자 할 때 사용하면 데이터 전처리를 할 떄 매우 유용할 것으로 보인다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-04T11:40:02.000Z" title="2020-05-04T11:40:02.000Z">2020-05-04</time><span class="level-item">2 minutes read (About 306 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/04/%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A1%E1%84%92%E1%85%A7%E1%86%BC-%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5-%E1%84%89%E1%85%AE%E1%86%BA%E1%84%8C%E1%85%A1%E1%84%92%E1%85%A7%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%85%E1%85%A9%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5/">시계열 데이터 전처리하기</a></h1><div class="content"><p>Python pandas DataFrame 이나 Series 내 ‘문자열 칼럼’을 ‘숫자형’으로 변환(how to convert string columns to numeric data types in pandas DataFrame, Series) 하는 2가지 방법에 대한 해결책! </p>
<p>(1) pd.to_numeric() 함수를 이용한 문자열 칼럼의 숫자형 변환<br>(2) astype() 메소드를 이용한 문자열 칼럼의 숫자형 변환</p>
<p>1-1. 한개의 문자열 칼럼을 숫자형으로 바꾸기<br>변수명[‘새로운컬럼’] = pd.to_numeric(변수명[‘숫자형으로 바꿀 문자형 컬럼’])</p>
<p>1-2. apply() 함수와 to_numeric() 함수를 사용해 DataFrame 내 다수의 문자열 칼럼을 숫자형으로 바꾸기<br>변수명[[‘새로운컬럼1’, ‘새로운컬럼2’]] = 변수명[[‘기존컬럼’, ‘기존컬럼’]].apply(pd.to_numeric)</p>
<p>1-3. 모두 한번에 바꾸기<br>[새로운변수명] = [기존변수명].apply(pd.to_numeric)</p>
<p>2-1. DataFrame 내 모든 문자열 칼럼을 float로 한꺼번에 변환하기<br>[세로운변수명] = [변수명].astype(float)</p>
<p>2-2. DataFrame 내 문자열 칼럼별로 int, float 데이터 형식 개별 지정해서 숫자형으로 변환하기<br>[새로운변수명] = [변수명].astype({‘컬럼1’: int,<br> ‘컬럼2’: np.float})</p>
<ul>
<li>DataFrame에 문자가 포함된 칼럼이 같이 있을 경우 ValueError</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-29T08:20:04.000Z" title="2020-04-29T08:20:04.000Z">2020-04-29</time><span class="level-item">4 minutes read (About 659 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/29/%EA%B3%B5%EA%B3%B5%EB%8D%B0%EC%9D%B4%ED%84%B0csv-%ED%95%9C%EA%B8%80%EA%B9%A8%EC%A7%90%ED%98%84%EC%83%81-%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0-md/">공공데이터csv_한글깨짐현상_문제해결.md</a></h1><div class="content"><h2 id="pandas-공데이터-한글깨짐현상-문제해결"><a href="#pandas-공데이터-한글깨짐현상-문제해결" class="headerlink" title="pandas 공데이터 한글깨짐현상 문제해결"></a>pandas 공데이터 한글깨짐현상 문제해결</h2><ul>
<li>공공데이터 포털에서 다운로드 받은 csv파일을 pandas에서 로딩할 때 한글깨짐 현상을 해결하는 방법에 대하여 알아보겠습니다.</li>
<li>한글 깨짐 현상을 해결하기 전에 영어는 아무 문제가 없지만, 한글 파일을 읽어올 때는 종종 문제가 발생하게 됩니다.</li>
</ul>
<ol>
<li>Encoding. 기본적인 이해</li>
</ol>
<ul>
<li><p>문자형 데이터는 컴퓨터가 인식을 하지 못하기 때문에 우리는 이것을 컴퓨터가 이해할 수 있도록 Bit 형태로 변형해야합니다.</p>
</li>
<li><p>1Byte = 8Bit</p>
</li>
<li><p>Ascii 계열의 문자열은 0~127까지 표현되기 때문에 1Byte 안에 충분히 표현될 수 있습니다. 하지만, 한글은 Ascii 안에 표현이 불가하기 때문에 표현하기 위해서는 Byte가 충분히 더 필요합니다.</p>
</li>
<li><p>인코딩은 한글과 같은 Ascii 범위를 벗어난 문자를 표현하기 위한 변형 작업이라고 이해하시면 쉽습니다. 하지만, 문제는 이러한 인코딩 방식이 여러가지 입니다.</p>
</li>
</ul>
<ol start="2">
<li>공공데이터(csv) 파일의 encoding</li>
</ol>
<ul>
<li><p>공공데이터파일은 utf8 방식이면 좋겠으나, 아쉽게도(?) cp949 혹은 euc-kr 형식으로 인코딩이 되어 있습니다.</p>
</li>
<li><p>이러한 이유때문에 pandas에서 파일을 불러오면,,</p>
<ul>
<li>‘utf8 codec can’t decode byte 0xb1 in position 0: invalid start byte’</li>
</ul>
</li>
</ul>
<p>라는 에러메세지가 발생하게 됩니다.</p>
<ul>
<li>해결책1</li>
</ul>
<ul>
<li>pandas에서 파일을 불러올 시, ‘engine=python’ 이라는 코드를 같이 작성하기</li>
<li>df = pd.read_csv(‘test.csv’, engine=’python’)</li>
<li>불러오게 되면 작동은 하나 한글이 ???형식으로 나타나게 되기도 합니다.</li>
</ul>
<ul>
<li>해결책2</li>
</ul>
<ul>
<li>pandas에서 파일을 불러올 시, ‘encoding=utf8’ 이라는 코드를 같이 작성하기</li>
<li>df = pd.read_csv(‘test.csv’, encoding=’utf8’)</li>
<li>그러나 공공데이터의 경우 해결되지 않는 경우가 많습니다.</li>
</ul>
<ul>
<li>해결책3</li>
</ul>
<ul>
<li>Excel에서 파일의 인코딩 옵션 변경하기</li>
<li>파일을 불러온 후, 다름이름 저장하기를 통해 고급옵션의 파일인코딩 형식을 utf8로 변경 후 저장하기</li>
</ul>
<ul>
<li>해결책4<br>해결책1번의 코드를 작성한 후, encoding=cp949 라는 코드를 통해 불러오기<br>(이렇게 해서 공공데이터 불러오기를 성공하였으나, utf8의 호환성이 가장 좋기에 utf8로 불러오는 것이 가장 좋다고 판단되어집니다.)</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-27T10:24:50.859Z" title="2020-04-27T10:24:50.859Z">2020-04-27</time><span class="level-item">a minute read (About 219 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/27/wglee87DB-%EC%97%91%EC%85%80%ED%8C%8C%EC%9D%BC-insert%ED%95%98%EA%B8%B0/">wglee87DB-엑셀파일-insert하기</a></h1><div class="content"><h3 id="엑셀로-정리된-파일들을-mysql-데이터베이스로-한번에-가져오는-방법-기록용"><a href="#엑셀로-정리된-파일들을-mysql-데이터베이스로-한번에-가져오는-방법-기록용" class="headerlink" title="엑셀로 정리된 파일들을 mysql 데이터베이스로 한번에 가져오는 방법(기록용)"></a>엑셀로 정리된 파일들을 mysql 데이터베이스로 한번에 가져오는 방법(기록용)</h3><ol>
<li>엑셀파일의 전처리 작업<ul>
<li>가져올 데이터만 남기고 열 이름은 삭제</li>
</ul>
</li>
</ol>
<ol start="2">
<li>엑셀파일을 csv파일로 저장<ul>
<li>다른이름으로 저장하기 &gt; encoding=utf8 (utf8 미설정 시 한글폰트가 깨질 수 있음) &gt; 확장자 csv로<br>저장하기</li>
</ul>
</li>
</ol>
<ol start="3">
<li>mysql로 접속하기<ul>
<li>mysql에 접속 (필자는 sequel pro를 활용)</li>
</ul>
</li>
</ol>
<ol start="4">
<li>데이터베이스, 테이블 생성 및 encoding 변환<ul>
<li>단, 테이블 구조와 csv파일 구조가 같아야함</li>
<li>CREATE TABLE [테이블명](column이름 텍스트형식)</li>
<li>encoding=utf8로 변환</li>
<li>ALTER DATABASE [DB명] CHARACTER SET = utf8</li>
<li>ALTER TABLE [테이블명] CHARACTER SET = utf8</li>
</ul>
</li>
</ol>
<ol start="5">
<li>데이터 insert<ul>
<li>LOAD DATA LOCAL INFILE [FILE_PATH] INTO TABLE DB명.TABLE명 FIELDS TERMINATED BY ‘,’;</li>
</ul>
</li>
</ol>
<hr>
<p>title: ‘[wglee87DB] 엑셀파일 insert하기’<br>date: 2020-04-27 19:24:50<br>tags:</p>
<hr>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-25T05:56:58.189Z" title="2020-04-25T05:56:58.189Z">2020-04-25</time><span class="level-item">a few seconds read (About 32 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/25/%EA%B3%B5%EB%B6%80%EB%82%B4%EC%9A%A9/">공부내용</a></h1><div class="content"><ol>
<li>markdown, vim, git 기초개념</li>
<li>github에 repo 생성 후 파일 add, commit, push 하는 방법</li>
<li>github 블로그 생성 (hexo를 통해)</li>
</ol>
<hr>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-22T12:03:11.853Z" title="2020-04-22T12:03:11.853Z">2020-04-22</time><span class="level-item">a few seconds read (About 43 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/22/200422-%EA%B3%B5%EB%B6%80%EB%82%B4%EC%9A%A9/">200422-공부내용</a></h1><div class="content"><ol>
<li><p>수학(math)</p>
<ul>
<li>데이터분석에서의 미,적분</li>
<li>최적화(optimize)</li>
</ul>
</li>
<li><p>git</p>
<ul>
<li>2번째 강의(branch 강의)</li>
<li>첫번째 협업 연습(fork and merge)</li>
</ul>
</li>
</ol>
<hr>
<p>title: 200422-공부내용<br>date: 2020-04-22 21:00:53<br>tags:</p>
<hr>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-20T12:45:17.704Z" title="2020-04-20T12:45:17.704Z">2020-04-20</time><span class="level-item">4 minutes read (About 658 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/20/200420-%EA%B3%B5%EB%B6%80%EB%82%B4%EC%9A%A9/">200420-공부내용</a></h1><div class="content"><p>파이썬(Python) 학습</p>
<ol>
<li>프로그래머스 코딩테스트 연습<ul>
<li>startswith()</li>
<li>startswith란 앞의 변수와 value값이 뒤의 변수의 value중 같은 단어로 시작하는 것이 있으면 True or False를 반환하는 함수</li>
</ul>
</li>
</ol>
<ol start="2">
<li>k리그1 데이터 전처리작업<ul>
<li>선수 별 퍼포먼스 데이터의 누적합 연습</li>
<li>reduce, 반복문을 통해 코딩함 (실패)</li>
<li>numpy 나 pandas dataframe 의 function중 cumsum()이라는 누적합 기능이 있음</li>
<li>cumsum(). 좋은 것을 또 하나 찾았고, 공부했다.</li>
<li>def 함수를 만들어 apply 기능을 통해 적용시키는 방법은 조금 더 연습이 필요할듯 하다.</li>
</ul>
</li>
</ol>
<ol start="3">
<li>가상환경에서의 주피터 실행<ul>
<li>계속적으로 실패중</li>
<li>포트 등록까지 하고 열었는데 열리지 않음 계속적으로.</li>
<li>강사님의 도움이 절실함</li>
</ul>
</li>
</ol>
<p>수학(math) 학습</p>
<ol>
<li>행렬의 성질<ul>
<li>행렬의 크기 및 부피를 나타내는 3가지 성질(놈(norm), 대각합(trace), 행렬식(determinants)</li>
<li>놈(norm)은 항상 0보다 같거나 크다.</li>
<li>벡터의 놈(norm)의 성질은 벡터의 놈의 제곱이 벡터의 제곱합과 같다.</li>
<li>대각합(trace)은 정방핸렬에 대해서만 정의 됨.</li>
<li>양의 정부호와 양의 준정부호</li>
<li>대칭행렬이란 A라는 행렬의 전치행렬과 원래의 A가 같은 행렬.</li>
</ul>
</li>
</ol>
<ol start="2">
<li>좌표와 변환<ul>
<li>좌표벡터의 길이는 놈(norm)으로 구할 수 있음.</li>
<li>스칼라와 좌표벡터를 곱하면 방향은 그대로, 실수(스칼라)의 크기 만큼 길이가 길어짐.</li>
<li>여러개의 벡터를 스칼라값을 곱한 후 더한 것 - 선형조합.</li>
<li>좌표에서 벡터의 차는 좌표의 a와 b을 빼면 됨 (a-b)</li>
<li>유클리드 거리</li>
<li>sin@은 @가 0에 가까워질수록 0에 가까워지고, @가 90도에 가까워질수록 1에 가까워진다.</li>
<li>cos@은 @가 0에 가까워질수록 1에 가까워지고, @가 90도에 가까워질수록 0에 가까워진다.</li>
</ul>
</li>
</ol>
<ul>
<li>a와 90도 만나는 b의 좌표를 직교라고 한다. ex) 1,0 과 0,1</li>
<li>코사인 유사도<ul>
<li>두 벡터의 방향이 비슷할수록 벡터가 비슷하다고 간주 &gt; 코사인 유사도가 1이면 가장 유사하다’라고 봄.</li>
</ul>
</li>
<li>고윳값<ul>
<li>[정리] 중복된 고윳값을 각각 별개로 새ㅐㅇ각하고 복소수인 고윳값도 고려한다면 n차원 정방행렬의 고윳값은 항상 n개이다.</li>
</ul>
</li>
</ul>
<h2 id="이상-전혀-이해가-되지-않는다-큰일이다"><a href="#이상-전혀-이해가-되지-않는다-큰일이다" class="headerlink" title="이상. (전혀 이해가 되지 않는다. 큰일이다)"></a>이상. (전혀 이해가 되지 않는다. 큰일이다)</h2><p>title: 200420-공부내용<br>date: 2020-04-20 18:58:01<br>tags:</p>
<hr>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-18T12:14:50.777Z" title="2020-04-18T12:14:50.777Z">2020-04-18</time><span class="level-item">a minute read (About 141 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/18/200418-%EA%B3%B5%EB%B6%80%EB%82%B4%EC%9A%A9/">200418-공부내용</a></h1><div class="content"><ol>
<li><p>파이썬</p>
<ul>
<li>프로그래머스 코딩테스트 문제풀이</li>
<li>k리그1 데이터로 pandas 데이터 로드, 전처리 작업 연습</li>
<li>가상서버 연결 실패 (연결이 안됨)</li>
</ul>
</li>
<li><p>수학</p>
<ul>
<li>오전에 강사님의 강의</li>
<li>도저히 이해가 되질 않아서 처음부터 다시 차근차근 공부시작</li>
<li>수열과 스칼라, 벡터, 행렬 등 공부 (이정도는 이해)</li>
<li>내일도 수학 공부 예정 (큰일남)</li>
</ul>
</li>
<li><p>git과 블로그에 오늘의 공부내용 업로드</p>
</li>
</ol>
<hr>
<p>title: 200418-공부내용<br>date: 2020-04-18 21:10:47<br>tags:</p>
<hr>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/2/">Previous</a></div><div class="pagination-next"><a href="/page/4/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link is-current" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://user-images.githubusercontent.com/59719711/85970198-ab9c3c80-ba04-11ea-8990-4bdec6914e3c.jpeg" alt="wglee87"></figure><p class="title is-size-4 is-block line-height-inherit">wglee87</p><p class="is-size-6 is-block">Data has a better idea</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Hwasung, KR</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/wglee87" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/wglee87"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Instagram" href="https://Instagram.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-12T12:06:35.000Z">2020-08-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/12/%EA%B5%AC%EA%B8%80-%EC%A7%80%EC%98%A4%EC%BD%94%EB%94%A9-API-%ED%82%A4-%EB%B0%9C%EA%B8%89-%EB%B0%9B%EB%8A%94-%EB%B0%A9%EB%B2%95-How-to-be-issued-the-Geocoding-API-key-from-Google/">구글 지오코딩 API 키 발급 받는 방법 (How to be issued the Geocoding API key from Google)</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-24T05:54:01.000Z">2020-07-24</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/24/MySQL-Ubuntu%EC%97%90%EC%84%9C-MySQL-%EC%99%84%EC%A0%84-%EC%82%AD%EC%A0%9C%ED%95%98%EA%B8%B0/">[MySQL] Ubuntu에서 MySQL 완전 삭제하기</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-23T10:24:00.000Z">2020-07-23</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/23/MySQL-workbench%E1%84%8B%E1%85%A6%E1%84%89%E1%85%A5-ERD%E1%84%90%E1%85%AE%E1%86%AF-%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5-Database-Modeling/">[mysql] workbench에서 ERD툴 사용하기 (Database Modeling)</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-22T13:58:24.000Z">2020-07-22</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/22/MySQL-Storage-Engine-InnoDB-vs-MyISAM/">[MySQL] Storage Engine (InnoDB vs MyISAM)</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-19T09:25:05.000Z">2020-07-19</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/19/Python-SQLAlchemy-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/">[Python] SQLAlchemy 사용하기</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/fastcampus/"><span class="tag">fastcampus</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/" alt="Geony&#039;s Tech Blog" height="28"></a><p class="size-small"><span>&copy; 2020 WGLee87</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://wglee87.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>